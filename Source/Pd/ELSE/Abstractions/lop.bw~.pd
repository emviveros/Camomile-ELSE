#N canvas 791 200 496 243 10;
#X declare -path else;
#N canvas 155 428 236 257 coeffs 0;
#X obj 38 25 inlet;
#X obj 105 200 outlet;
#N canvas 187 126 214 249 r 0;
#X obj 75 178 t b f;
#X obj 90 100 pi 0.5;
#X obj 23 103 clip 0 1;
#X obj 23 75 /;
#X obj 63 74 t f b;
#X obj 75 132 *;
#X obj 75 154 tan;
#X obj 112 131 v half_pi_\$0;
#X obj 23 15 inlet;
#X obj 75 212 outlet;
#X obj 63 48 nyquist~;
#X obj 128 174 v r;
#X connect 0 0 9 0;
#X connect 0 1 11 0;
#X connect 1 0 5 1;
#X connect 1 0 7 0;
#X connect 2 0 5 0;
#X connect 3 0 2 0;
#X connect 4 0 3 1;
#X connect 4 1 1 0;
#X connect 5 0 6 0;
#X connect 6 0 0 0;
#X connect 8 0 3 0;
#X connect 10 0 4 0;
#X restore 105 77 pd r;
#N canvas 190 275 441 300 coeffs 0;
#X obj 47 11 inlet;
#X text 334 55 re;
#X text 334 66 im;
#X text 121 87 gain;
#X obj 209 86 v re;
#X obj 325 86 v im;
#X obj 94 87 v g;
#X obj 94 43 expr (pow(re - 1 \, 2) + pow(im \, 2)) / 4 \; (1 - r*r)
/ (1 + r*r + r*2*cos(phi)) \; r*2*sin(phi) / (1 + r*r + r*2*cos(phi))
;
#X obj 95 191 pack f f f f f;
#X obj 47 115 expr 2 * re \; -pow(sqrt(re*re + im*im) \, 2) \; g \;
2 * g \; g, f 30;
#X obj 95 254 outlet;
#X obj 95 220 insert append;
#X obj 47 55 t b b;
#X connect 0 0 12 0;
#X connect 7 0 6 0;
#X connect 7 1 4 0;
#X connect 7 2 5 0;
#X connect 8 0 11 0;
#X connect 9 0 8 0;
#X connect 9 1 8 1;
#X connect 9 2 8 2;
#X connect 9 3 8 3;
#X connect 9 4 8 4;
#X connect 11 0 10 0;
#X connect 12 0 9 0;
#X connect 12 1 7 0;
#X restore 105 126 pd coeffs;
#N canvas 265 246 317 280 phi 0;
#X obj 62 18 inlet;
#X obj 62 156 expr ($f1 / order_\$0) * half_pi_\$0;
#X obj 62 245 outlet;
#X obj 62 184 trigger bang float;
#X obj 167 209 v phi;
#X obj 62 53 expr even_\$0 \; order_\$0;
#X obj 62 128 loop -step 2;
#X obj 62 96 pack float float;
#X connect 0 0 5 0;
#X connect 1 0 3 0;
#X connect 3 0 2 0;
#X connect 3 1 4 0;
#X connect 5 0 7 0;
#X connect 5 1 7 1;
#X connect 6 0 1 0;
#X connect 7 0 6 0;
#X restore 105 102 pd phi;
#X obj 105 166 list store;
#X obj 38 54 trigger bang float bang;
#X connect 0 0 6 0;
#X connect 2 0 4 0;
#X connect 3 0 5 0;
#X connect 4 0 3 0;
#X connect 5 0 1 0;
#X connect 6 0 5 0;
#X connect 6 1 2 0;
#X connect 6 2 5 1;
#X restore 103 112 pd coeffs;
#X obj 103 47 inlet;
#X obj 103 155 biquads~;
#X obj 103 187 outlet~;
#X obj 40 46 inlet~;
#N canvas 918 140 426 276 args 0;
#X obj 60 216 outlet;
#X obj 106 45 inlet;
#X obj 133 185 v even_\$0;
#X obj 274 185 v order_\$0;
#X obj 133 149 expr 1 - (order_\$0 % 2) \; min(max($f1 \, 2) \, 100)
;
#X obj 106 123 t b f;
#X obj 60 46 inlet;
#X text 65 26 hz;
#X text 112 25 order;
#X obj 60 158 f \$1;
#X obj 106 100 f \$2;
#X obj 122 74 lb -init;
#X connect 1 0 10 0;
#X connect 4 0 2 0;
#X connect 4 1 3 0;
#X connect 5 0 9 0;
#X connect 5 1 4 0;
#X connect 6 0 9 0;
#X connect 9 0 0 0;
#X connect 10 0 5 0;
#X connect 11 0 10 0;
#X restore 103 85 pd args;
#X text 40 25 audio;
#X text 100 25 cutoff;
#X obj 168 46 inlet;
#X text 165 24 order;
#X msg 195 108 clear;
#X obj 168 83 t f b;
#X text 256 119 Part of ELSE \; https://github.com/porres/pd-else;
#X text 258 100 Alexandre Torres Porres (2018);
#X obj 281 71 declare -path else;
#X connect 0 0 2 0;
#X connect 1 0 5 0;
#X connect 2 0 3 0;
#X connect 4 0 2 0;
#X connect 5 0 0 0;
#X connect 8 0 11 0;
#X connect 10 0 2 0;
#X connect 11 0 5 1;
#X connect 11 1 10 0;
